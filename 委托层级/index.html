<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<style type="text/css">
			*{margin: 0;padding: 0;font-size: 55px;list-style: none;}
			li{
				width: 150px;
				height: 150px;
				background: red;
				text-align: center;
				line-height: 150px;
				float: left;
				margin-left: 50px;
			}
		</style>
	</head>
	<body>
		<input type="button" id="but" value="新建节点" />
		<ul id="uls">
			<li>1</li>
			<li>2</li>
			<li>3</li>
		</ul>
	</body>
	<script type="text/javascript">
		var but=document.getElementById("but");
		var uls=document.getElementById("uls");
		var lli=uls.getElementsByTagName('li');
		var n=0;
		but.onclick=function (){
			n++;
			var lis=document.createElement('li');
			lis.innerHTML='新建'+n;
			uls.appendChild(lis);
				for (var i = 0; i < lli.length; i++) {
					lli[i].index=i;
					lli[i].onmouseover=function (){
						lli[this.index].style.background='green';
					}
					lli[i].onmouseout=function (){
						lli[this.index].style.background='red';
					}
				}
		}
		for (var i = 0; i < lli.length; i++) {
			lli[i].index=i;
			lli[i].onmouseover=function (){
				lli[this.index].style.background='green';
			}
			lli[i].onmouseout=function (){
				lli[this.index].style.background='red';
			}
		}
	</script>
</html>
